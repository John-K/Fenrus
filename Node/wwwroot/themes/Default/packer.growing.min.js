GrowingPacker=function(){},GrowingPacker.prototype={maxHeight:0,maxWidth:0,fit:function(t){let o=t.blocks;o.sort(function(t,o){return o.w-t.w}),this.maxHeight=t.maxHeight,this.maxWidth=t.maxWidth;var i,h,r,s=o.length,n=s>0?o[0].w:0,w=s>0?o[0].h:0;for(this.root={x:0,y:0,w:n,h:w},i=0;i<s;i++)r=o[i],(h=this.findNode(this.root,r.w,r.h))?r.fit=this.splitNode(h,r.w,r.h):r.fit=this.growNode(r.w,r.h)},findNode:function(t,o,i){return t.used?this.findNode(t.right,o,i)||this.findNode(t.down,o,i):o<=t.w&&i<=t.h?t:null},splitNode:function(t,o,i){return t.used=!0,t.down={x:t.x,y:t.y+i,w:t.w,h:t.h-i},t.right={x:t.x+o,y:t.y,w:t.w-o,h:i},t},growNode:function(t,o){var i=t<=this.root.w&&(!this.maxHeight||this.root.h+o<=this.maxHeight),h=o<=this.root.h&&(!this.maxWidth||this.root.w+t<=this.maxWidth);i||h||(this.maxWidth?i=!0:h=!0);var r=h&&this.root.h>=this.root.w+t,s=i&&this.root.w>=this.root.h+o;return r?this.growRight(t,o):s?this.growDown(t,o):t<=o&&h?this.growRight(t,o):o<t&&i?this.growDown(t,o):h?this.growRight(t,o):i?this.growDown(t,o):null},growRight:function(t,o){return this.root={used:!0,x:0,y:0,w:this.root.w+t,h:this.root.h,down:this.root,right:{x:this.root.w,y:0,w:t,h:this.root.h}},(node=this.findNode(this.root,t,o))?this.splitNode(node,t,o):null},growDown:function(t,o){return this.root={used:!0,x:0,y:0,w:this.root.w,h:this.root.h+o,down:{x:0,y:this.root.h,w:this.root.w,h:o},right:this.root},(node=this.findNode(this.root,t,o))?this.splitNode(node,t,o):null}};